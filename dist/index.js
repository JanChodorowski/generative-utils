var oi=Object.create;var me=Object.defineProperty;var si=Object.getOwnPropertyDescriptor;var ai=Object.getOwnPropertyNames;var li=Object.getPrototypeOf,ui=Object.prototype.hasOwnProperty;var ci=t=>me(t,"__esModule",{value:!0});var G=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fi=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ai(e))!ui.call(t,r)&&r!=="default"&&me(t,r,{get:()=>e[r],enumerable:!(n=si(e,r))||n.enumerable});return t},Ye=t=>fi(ci(me(t!=null?oi(li(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ge=G(($e,ge)=>{(function(t,e,n){function r(o){var l=this,u=s();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(o),l.s0<0&&(l.s0+=1),l.s1-=u(o),l.s1<0&&(l.s1+=1),l.s2-=u(o),l.s2<0&&(l.s2+=1),u=null}function i(o,l){return l.c=o.c,l.s0=o.s0,l.s1=o.s1,l.s2=o.s2,l}function a(o,l){var u=new r(o),c=l&&l.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}function s(){var o=4022871197,l=function(u){u=String(u);for(var c=0;c<u.length;c++){o+=u.charCodeAt(c);var f=.02519603282416938*o;o=f>>>0,f-=o,f*=o,o=f>>>0,f-=o,o+=f*4294967296}return(o>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.alea=a})($e,typeof ge=="object"&&ge,typeof define=="function"&&define)});var Ke=G((Qe,xe)=>{(function(t,e,n){function r(s){var o=this,l="";o.x=0,o.y=0,o.z=0,o.w=0,o.next=function(){var c=o.x^o.x<<11;return o.x=o.y,o.y=o.z,o.z=o.w,o.w^=o.w>>>19^c^c>>>8},s===(s|0)?o.x=s:l+=s;for(var u=0;u<l.length+64;u++)o.x^=l.charCodeAt(u)|0,o.next()}function i(s,o){return o.x=s.x,o.y=s.y,o.z=s.z,o.w=s.w,o}function a(s,o){var l=new r(s),u=o&&o.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a})(Qe,typeof xe=="object"&&xe,typeof define=="function"&&define)});var Ze=G((Ue,_e)=>{(function(t,e,n){function r(s){var o=this,l="";o.next=function(){var c=o.x^o.x>>>2;return o.x=o.y,o.y=o.z,o.z=o.w,o.w=o.v,(o.d=o.d+362437|0)+(o.v=o.v^o.v<<4^(c^c<<1))|0},o.x=0,o.y=0,o.z=0,o.w=0,o.v=0,s===(s|0)?o.x=s:l+=s;for(var u=0;u<l.length+64;u++)o.x^=l.charCodeAt(u)|0,u==l.length&&(o.d=o.x<<10^o.x>>>4),o.next()}function i(s,o){return o.x=s.x,o.y=s.y,o.z=s.z,o.w=s.w,o.v=s.v,o.d=s.d,o}function a(s,o){var l=new r(s),u=o&&o.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a})(Ue,typeof _e=="object"&&_e,typeof define=="function"&&define)});var Je=G((We,ye)=>{(function(t,e,n){function r(s){var o=this;o.next=function(){var u=o.x,c=o.i,f,h,p;return f=u[c],f^=f>>>7,h=f^f<<24,f=u[c+1&7],h^=f^f>>>10,f=u[c+3&7],h^=f^f>>>3,f=u[c+4&7],h^=f^f<<7,f=u[c+7&7],f=f^f<<13,h^=f^f<<9,u[c]=h,o.i=c+1&7,h};function l(u,c){var f,h,p=[];if(c===(c|0))h=p[0]=c;else for(c=""+c,f=0;f<c.length;++f)p[f&7]=p[f&7]<<15^c.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?h=p[7]=-1:h=p[f],u.x=p,u.i=0,f=256;f>0;--f)u.next()}l(o,s)}function i(s,o){return o.x=s.x.slice(),o.i=s.i,o}function a(s,o){s==null&&(s=+new Date);var l=new r(s),u=o&&o.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},c.int32=l.next,c.quick=c,u&&(u.x&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a})(We,typeof ye=="object"&&ye,typeof define=="function"&&define)});var en=G((tn,be)=>{(function(t,e,n){function r(s){var o=this;o.next=function(){var u=o.w,c=o.X,f=o.i,h,p;return o.w=u=u+1640531527|0,p=c[f+34&127],h=c[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=c[f]=p^h,o.i=f,p+(u^u>>>16)|0};function l(u,c){var f,h,p,d,g,x=[],_=128;for(c===(c|0)?(h=c,c=null):(c=c+"\0",h=0,_=Math.max(_,c.length)),p=0,d=-32;d<_;++d)c&&(h^=c.charCodeAt((d+32)%c.length)),d===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,d>=0&&(g=g+1640531527|0,f=x[d&127]^=h+g,p=f==0?p+1:0);for(p>=128&&(x[(c&&c.length||0)&127]=-1),p=127,d=4*128;d>0;--d)h=x[p+34&127],f=x[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,x[p]=h^f;u.w=g,u.X=x,u.i=p}l(o,s)}function i(s,o){return o.i=s.i,o.w=s.w,o.X=s.X.slice(),o}function a(s,o){s==null&&(s=+new Date);var l=new r(s),u=o&&o.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},c.int32=l.next,c.quick=c,u&&(u.X&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a})(tn,typeof be=="object"&&be,typeof define=="function"&&define)});var rn=G((nn,we)=>{(function(t,e,n){function r(s){var o=this,l="";o.next=function(){var c=o.b,f=o.c,h=o.d,p=o.a;return c=c<<25^c>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-c|0,o.b=c=c<<20^c>>>12^f,o.c=f=f-h|0,o.d=h<<16^f>>>16^p,o.a=p-c|0},o.a=0,o.b=0,o.c=2654435769|0,o.d=1367130551,s===Math.floor(s)?(o.a=s/4294967296|0,o.b=s|0):l+=s;for(var u=0;u<l.length+20;u++)o.b^=l.charCodeAt(u)|0,o.next()}function i(s,o){return o.a=s.a,o.b=s.b,o.c=s.c,o.d=s.d,o}function a(s,o){var l=new r(s),u=o&&o.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var f=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},c.int32=l.next,c.quick=c,u&&(typeof u=="object"&&i(u,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a})(nn,typeof we=="object"&&we,typeof define=="function"&&define)});var on=G(()=>{});var an=G((sn,zt)=>{(function(t,e,n){var r=256,i=6,a=52,s="random",o=n.pow(r,i),l=n.pow(2,a),u=l*2,c=r-1,f;function h(b,w,M){var A=[];w=w==!0?{entropy:!0}:w||{};var k=x(g(w.entropy?[b,v(e)]:b??_(),3),A),S=new p(A),N=function(){for(var y=S.g(i),j=o,T=0;y<l;)y=(y+T)*r,j*=r,T=S.g(1);for(;y>=u;)y/=2,j/=2,T>>>=1;return(y+T)/j};return N.int32=function(){return S.g(4)|0},N.quick=function(){return S.g(4)/4294967296},N.double=N,x(v(S.S),e),(w.pass||M||function(y,j,T,I){return I&&(I.S&&d(I,S),y.state=function(){return d(S,{})}),T?(n[s]=y,j):y})(N,k,"global"in w?w.global:this==n,w.state)}function p(b){var w,M=b.length,A=this,k=0,S=A.i=A.j=0,N=A.S=[];for(M||(b=[M++]);k<r;)N[k]=k++;for(k=0;k<r;k++)N[k]=N[S=c&S+b[k%M]+(w=N[k])],N[S]=w;(A.g=function(y){for(var j,T=0,I=A.i,O=A.j,z=A.S;y--;)j=z[I=c&I+1],T=T*r+z[c&(z[I]=z[O=c&O+j])+(z[O]=j)];return A.i=I,A.j=O,T})(r)}function d(b,w){return w.i=b.i,w.j=b.j,w.S=b.S.slice(),w}function g(b,w){var M=[],A=typeof b,k;if(w&&A=="object")for(k in b)try{M.push(g(b[k],w-1))}catch(S){}return M.length?M:A=="string"?b:b+"\0"}function x(b,w){for(var M=b+"",A,k=0;k<M.length;)w[c&k]=c&(A^=w[c&k]*19)+M.charCodeAt(k++);return v(w)}function _(){try{var b;return f&&(b=f.randomBytes)?b=b(r):(b=new Uint8Array(r),(t.crypto||t.msCrypto).getRandomValues(b)),v(b)}catch(A){var w=t.navigator,M=w&&w.plugins;return[+new Date,t,M,t.screen,v(e)]}}function v(b){return String.fromCharCode.apply(0,b)}if(x(n.random(),e),typeof zt=="object"&&zt.exports){zt.exports=h;try{f=on()}catch(b){}}else typeof define=="function"&&define.amd?define(function(){return h}):n["seed"+s]=h})(typeof self!="undefined"?self:sn,[],Math)});var un=G((sa,ln)=>{var hi=Ge(),pi=Ke(),di=Ze(),mi=Je(),gi=en(),xi=rn(),it=an();it.alea=hi;it.xor128=pi;it.xorwow=di;it.xorshift7=mi;it.xor4096=gi;it.tychei=xi;ln.exports=it});var cn=G((_a,Bt)=>{(function(){function t(e,n,r,i){this.max_objects=n||10,this.max_levels=r||4,this.level=i||0,this.bounds=e,this.objects=[],this.nodes=[]}t.prototype.split=function(){var e=this.level+1,n=this.bounds.width/2,r=this.bounds.height/2,i=this.bounds.x,a=this.bounds.y;this.nodes[0]=new t({x:i+n,y:a,width:n,height:r},this.max_objects,this.max_levels,e),this.nodes[1]=new t({x:i,y:a,width:n,height:r},this.max_objects,this.max_levels,e),this.nodes[2]=new t({x:i,y:a+r,width:n,height:r},this.max_objects,this.max_levels,e),this.nodes[3]=new t({x:i+n,y:a+r,width:n,height:r},this.max_objects,this.max_levels,e)},t.prototype.getIndex=function(e){var n=[],r=this.bounds.x+this.bounds.width/2,i=this.bounds.y+this.bounds.height/2,a=e.y<i,s=e.x<r,o=e.x+e.width>r,l=e.y+e.height>i;return a&&o&&n.push(0),s&&a&&n.push(1),s&&l&&n.push(2),o&&l&&n.push(3),n},t.prototype.insert=function(e){var n=0,r;if(this.nodes.length){for(r=this.getIndex(e),n=0;n<r.length;n++)this.nodes[r[n]].insert(e);return}if(this.objects.push(e),this.objects.length>this.max_objects&&this.level<this.max_levels){for(this.nodes.length||this.split(),n=0;n<this.objects.length;n++){r=this.getIndex(this.objects[n]);for(var i=0;i<r.length;i++)this.nodes[r[i]].insert(this.objects[n])}this.objects=[]}},t.prototype.retrieve=function(e){var n=this.getIndex(e),r=this.objects;if(this.nodes.length)for(var i=0;i<n.length;i++)r=r.concat(this.nodes[n[i]].retrieve(e));return r=r.filter(function(a,s){return r.indexOf(a)>=s}),r},t.prototype.clear=function(){this.objects=[];for(var e=0;e<this.nodes.length;e++)this.nodes.length&&this.nodes[e].clear();this.nodes=[]},typeof Bt!="undefined"&&typeof Bt.exports!="undefined"?Bt.exports=t:window.Quadtree=t})()});var ve=Ye(un()),je=(0,ve.default)();function _i(t){je=(0,ve.default)(t)}function ot(){if(Array.isArray(arguments[0])){let e=arguments[0];return e[ot(0,e.length-1,!0)]}else{let e=arguments[0],n=arguments[1],r=arguments[2]||!1,i=je()*(n-e)+e;return r?Math.round(i):i}}function yi(t,e,n,r=.5){let i=ot(t,e),a=ot(0,1)*r;return i*(1-a)+n*a}function bi(t,e,n){return Math.round(ot(t,e)/n)*n}function wi(t,e){if(t=[...t],Array.isArray(t[0])||(t=t.map(({x:n,y:r})=>[n,r])),e){let n=t[t.length-1],r=t[t.length-2],i=t[0],a=t[1];t.unshift(n),t.unshift(r),t.push(i),t.push(a)}return t.flat()}function vi(t=[],e=1,n=!1,r){t=wi(t,n);let i=t.length,a=i-4,s=n?t[2]:t[0],o=n?t[3]:t[1],l="M"+[s,o];r&&r("MOVE",[s,o]);let u=n?2:0,c=n?i-4:i-2,f=2;for(let h=u;h<c;h+=f){let p=h?t[h-2]:t[0],d=h?t[h-1]:t[1],g=t[h+0],x=t[h+1],_=t[h+2],v=t[h+3],b=h!==a?t[h+4]:_,w=h!==a?t[h+5]:v,M=g+(_-p)/6*e,A=x+(v-d)/6*e,k=_-(b-g)/6*e,S=v-(w-x)/6*e;l+="C"+[M,A,k,S,_,v],r&&r("CURVE",[M,A,k,S,_,v])}return l}function ji(t,e,n,r,i){return(t-e)/(n-e)*(i-r)+r}function Ai(t,e=10){let n=t.getTotalLength(),r=n/e,i=[];for(let a=0;a<n;a+=r)i.push(t.getPointAtLength(a));return i}function Mi(t){let e=t.createSVGPoint();return function(n){return e.x=n.clientX,e.y=n.clientY,e.matrixTransform(t.getScreenCTM().inverse())}}var fn=Ye(cn()),Ti={width:1024,height:1024,points:[],gap:0,maxQtObjects:10,maxQtLevels:4};function Ii(t,e,n){return{col:{start:t.x/e,end:(t.x+t.width)/e},row:{start:t.y/n,end:(t.y+t.height)/n}}}function ki(t){let e=[];return function n(r){r.nodes.length===0?e.push(r):r.nodes.forEach(i=>n(i))}(t),e}function Si(t){t=Object.assign({},Ti,t);let e=new fn.default({x:0,y:0,width:t.width,height:t.height},t.maxQtObjects,t.maxQtLevels);t.points.forEach(a=>{e.insert(a)});let n=Math.pow(2,t.maxQtLevels),r=t.width/n,i=t.height/n;return{width:t.width,height:t.height,cols:n,rows:n,areas:ki(e).map(({bounds:a})=>({x:a.x+t.gap,y:a.y+t.gap,width:a.width-t.gap*2,height:a.height-t.gap*2,...Ii(a,r,i)}))}}function hn(t){return t*t}function Ae(t,e){return hn(t[0]-e[0])+hn(t[1]-e[1])}function Ci(t,e,n){var r=Ae(e,n);if(r===0)return Ae(t,e);var i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Ae(t,[e[0]+i*(n[0]-e[0]),e[1]+i*(n[1]-e[1])])}function Rt(t,e,n){return Math.sqrt(Ci(t,e,n))}var E=11102230246251565e-32,P=134217729,wt=(3+8*E)*E;function st(t,e,n,r,i){let a,s,o,l,u=e[0],c=r[0],f=0,h=0;c>u==c>-u?(a=u,u=e[++f]):(a=c,c=r[++h]);let p=0;if(f<t&&h<n)for(c>u==c>-u?(s=u+a,o=a-(s-u),u=e[++f]):(s=c+a,o=a-(s-c),c=r[++h]),a=s,o!==0&&(i[p++]=o);f<t&&h<n;)c>u==c>-u?(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=e[++f]):(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=r[++h]),a=s,o!==0&&(i[p++]=o);for(;f<t;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=e[++f],a=s,o!==0&&(i[p++]=o);for(;h<n;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=r[++h],a=s,o!==0&&(i[p++]=o);return(a!==0||p===0)&&(i[p++]=a),p}function vt(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function m(t){return new Float64Array(t)}var Ei=(3+16*E)*E,Ni=(2+12*E)*E,Oi=(9+64*E)*E*E,ht=m(4),pn=m(8),dn=m(12),mn=m(16),L=m(4);function Pi(t,e,n,r,i,a,s){let o,l,u,c,f,h,p,d,g,x,_,v,b,w,M,A,k,S,N=t-i,y=n-i,j=e-a,T=r-a;w=N*T,h=P*N,p=h-(h-N),d=N-p,h=P*T,g=h-(h-T),x=T-g,M=d*x-(w-p*g-d*g-p*x),A=j*y,h=P*j,p=h-(h-j),d=j-p,h=P*y,g=h-(h-y),x=y-g,k=d*x-(A-p*g-d*g-p*x),_=M-k,f=M-_,ht[0]=M-(_+f)+(f-k),v=w+_,f=v-w,b=w-(v-f)+(_-f),_=b-A,f=b-_,ht[1]=b-(_+f)+(f-A),S=v+_,f=S-v,ht[2]=v-(S-f)+(_-f),ht[3]=S;let I=vt(4,ht),O=Ni*s;if(I>=O||-I>=O||(f=t-N,o=t-(N+f)+(f-i),f=n-y,u=n-(y+f)+(f-i),f=e-j,l=e-(j+f)+(f-a),f=r-T,c=r-(T+f)+(f-a),o===0&&l===0&&u===0&&c===0)||(O=Oi*s+wt*Math.abs(I),I+=N*c+T*o-(j*u+y*l),I>=O||-I>=O))return I;w=o*T,h=P*o,p=h-(h-o),d=o-p,h=P*T,g=h-(h-T),x=T-g,M=d*x-(w-p*g-d*g-p*x),A=l*y,h=P*l,p=h-(h-l),d=l-p,h=P*y,g=h-(h-y),x=y-g,k=d*x-(A-p*g-d*g-p*x),_=M-k,f=M-_,L[0]=M-(_+f)+(f-k),v=w+_,f=v-w,b=w-(v-f)+(_-f),_=b-A,f=b-_,L[1]=b-(_+f)+(f-A),S=v+_,f=S-v,L[2]=v-(S-f)+(_-f),L[3]=S;let z=st(4,ht,4,L,pn);w=N*c,h=P*N,p=h-(h-N),d=N-p,h=P*c,g=h-(h-c),x=c-g,M=d*x-(w-p*g-d*g-p*x),A=j*u,h=P*j,p=h-(h-j),d=j-p,h=P*u,g=h-(h-u),x=u-g,k=d*x-(A-p*g-d*g-p*x),_=M-k,f=M-_,L[0]=M-(_+f)+(f-k),v=w+_,f=v-w,b=w-(v-f)+(_-f),_=b-A,f=b-_,L[1]=b-(_+f)+(f-A),S=v+_,f=S-v,L[2]=v-(S-f)+(_-f),L[3]=S;let B=st(z,pn,4,L,dn);w=o*c,h=P*o,p=h-(h-o),d=o-p,h=P*c,g=h-(h-c),x=c-g,M=d*x-(w-p*g-d*g-p*x),A=l*u,h=P*l,p=h-(h-l),d=l-p,h=P*u,g=h-(h-u),x=u-g,k=d*x-(A-p*g-d*g-p*x),_=M-k,f=M-_,L[0]=M-(_+f)+(f-k),v=w+_,f=v-w,b=w-(v-f)+(_-f),_=b-A,f=b-_,L[1]=b-(_+f)+(f-A),S=v+_,f=S-v,L[2]=v-(S-f)+(_-f),L[3]=S;let C=st(B,dn,4,L,mn);return mn[C-1]}function pt(t,e,n,r,i,a){let s=(e-a)*(n-i),o=(t-i)*(r-a),l=s-o;if(s===0||o===0||s>0!=o>0)return l;let u=Math.abs(s+o);return Math.abs(l)>=Ei*u?l:-Pi(t,e,n,r,i,a,u)}var Ma=(7+56*E)*E,Ta=(3+28*E)*E,Ia=(26+288*E)*E*E,ka=m(4),Sa=m(4),Ca=m(4),Ea=m(4),Na=m(4),Oa=m(4),Pa=m(4),Da=m(4),qa=m(4),Xa=m(8),za=m(8),Ba=m(8),Ra=m(4),La=m(8),Fa=m(8),Va=m(8),Ha=m(12),Ya=m(192),$a=m(192);var Ka=(10+96*E)*E,Ua=(4+48*E)*E,Za=(44+576*E)*E*E,Wa=m(4),Ja=m(4),tl=m(4),el=m(4),nl=m(4),rl=m(4),il=m(4),ol=m(4),sl=m(8),al=m(8),ll=m(8),ul=m(8),cl=m(8),fl=m(8),hl=m(8),pl=m(8),dl=m(8),ml=m(4),gl=m(4),xl=m(4),_l=m(8),yl=m(16),bl=m(16),wl=m(16),vl=m(32),jl=m(32),Al=m(48),Ml=m(64),Tl=m(1152),Il=m(1152);var El=(16+224*E)*E,Nl=(5+72*E)*E,Ol=(71+1408*E)*E*E,Pl=m(4),Dl=m(4),ql=m(4),Xl=m(4),zl=m(4),Bl=m(4),Rl=m(4),Ll=m(4),Fl=m(4),Vl=m(4),Hl=m(24),Yl=m(24),$l=m(24),Gl=m(24),Ql=m(24),Kl=m(24),Ul=m(24),Zl=m(24),Wl=m(24),Jl=m(24),tu=m(1152),eu=m(1152),nu=m(1152),ru=m(1152),iu=m(1152),ou=m(2304),su=m(2304),au=m(3456),lu=m(5760),uu=m(8),cu=m(8),fu=m(8),hu=m(16),pu=m(24),du=m(48),mu=m(48),gu=m(96),xu=m(192),_u=m(384),yu=m(384),bu=m(384),wu=m(768);var vu=m(96),ju=m(96),Au=m(96),Mu=m(1152);var xn=Math.pow(2,-52),Lt=new Uint32Array(512),at=class{static from(e,n=Ri,r=Li){let i=e.length,a=new Float64Array(i*2);for(let s=0;s<i;s++){let o=e[s];a[2*s]=n(o),a[2*s+1]=r(o)}return new at(a)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,s=e.length>>1,o=Infinity,l=Infinity,u=-Infinity,c=-Infinity;for(let y=0;y<s;y++){let j=e[2*y],T=e[2*y+1];j<o&&(o=j),T<l&&(l=T),j>u&&(u=j),T>c&&(c=T),this._ids[y]=y}let f=(o+u)/2,h=(l+c)/2,p=Infinity,d,g,x;for(let y=0;y<s;y++){let j=Me(f,h,e[2*y],e[2*y+1]);j<p&&(d=y,p=j)}let _=e[2*d],v=e[2*d+1];p=Infinity;for(let y=0;y<s;y++){if(y===d)continue;let j=Me(_,v,e[2*y],e[2*y+1]);j<p&&j>0&&(g=y,p=j)}let b=e[2*g],w=e[2*g+1],M=Infinity;for(let y=0;y<s;y++){if(y===d||y===g)continue;let j=zi(_,v,b,w,e[2*y],e[2*y+1]);j<M&&(x=y,M=j)}let A=e[2*x],k=e[2*x+1];if(M===Infinity){for(let T=0;T<s;T++)this._dists[T]=e[2*T]-e[0]||e[2*T+1]-e[1];dt(this._ids,this._dists,0,s-1);let y=new Uint32Array(s),j=0;for(let T=0,I=-Infinity;T<s;T++){let O=this._ids[T];this._dists[O]>I&&(y[j++]=O,I=this._dists[O])}this.hull=y.subarray(0,j),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(pt(_,v,b,w,A,k)<0){let y=g,j=b,T=w;g=x,b=A,w=k,x=y,A=j,k=T}let S=Bi(_,v,b,w,A,k);this._cx=S.x,this._cy=S.y;for(let y=0;y<s;y++)this._dists[y]=Me(e[2*y],e[2*y+1],S.x,S.y);dt(this._ids,this._dists,0,s-1),this._hullStart=d;let N=3;r[d]=n[x]=g,r[g]=n[d]=x,r[x]=n[g]=d,i[d]=0,i[g]=1,i[x]=2,a.fill(-1),a[this._hashKey(_,v)]=d,a[this._hashKey(b,w)]=g,a[this._hashKey(A,k)]=x,this.trianglesLen=0,this._addTriangle(d,g,x,-1,-1,-1);for(let y=0,j,T;y<this._ids.length;y++){let I=this._ids[y],O=e[2*I],z=e[2*I+1];if(y>0&&Math.abs(O-j)<=xn&&Math.abs(z-T)<=xn||(j=O,T=z,I===d||I===g||I===x))continue;let B=0;for(let de=0,ii=this._hashKey(O,z);de<this._hashSize&&(B=a[(ii+de)%this._hashSize],!(B!==-1&&B!==r[B]));de++);B=n[B];let C=B,D;for(;D=r[C],pt(O,z,e[2*C],e[2*C+1],e[2*D],e[2*D+1])>=0;)if(C=D,C===B){C=-1;break}if(C===-1)continue;let rt=this._addTriangle(C,I,r[C],-1,-1,i[C]);i[I]=this._legalize(rt+2),i[C]=rt,N++;let $=r[C];for(;D=r[$],pt(O,z,e[2*$],e[2*$+1],e[2*D],e[2*D+1])<0;)rt=this._addTriangle($,I,D,i[I],-1,i[$]),i[I]=this._legalize(rt+2),r[$]=$,N--,$=D;if(C===B)for(;D=n[C],pt(O,z,e[2*D],e[2*D+1],e[2*C],e[2*C+1])<0;)rt=this._addTriangle(D,I,C,-1,i[C],i[D]),this._legalize(rt+2),i[D]=rt,r[C]=C,N--,C=D;this._hullStart=n[I]=C,r[C]=n[$]=I,r[I]=$,a[this._hashKey(O,z)]=I,a[this._hashKey(e[2*C],e[2*C+1])]=C}this.hull=new Uint32Array(N);for(let y=0,j=this._hullStart;y<N;y++)this.hull[y]=j,j=r[j];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(qi(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:i}=this,a=0,s=0;for(;;){let o=r[e],l=e-e%3;if(s=l+(e+2)%3,o===-1){if(a===0)break;e=Lt[--a];continue}let u=o-o%3,c=l+(e+1)%3,f=u+(o+2)%3,h=n[s],p=n[e],d=n[c],g=n[f];if(Xi(i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1])){n[e]=g,n[o]=h;let _=r[f];if(_===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=e;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(e,_),this._link(o,r[s]),this._link(s,f);let v=u+(o+1)%3;a<Lt.length&&(Lt[a++]=v)}else{if(a===0)break;e=Lt[--a]}}return s}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,a,s){let o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=n,this._triangles[o+2]=r,this._link(o,i),this._link(o+1,a),this._link(o+2,s),this.trianglesLen+=3,o}};function qi(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Me(t,e,n,r){let i=t-n,a=e-r;return i*i+a*a}function Xi(t,e,n,r,i,a,s,o){let l=t-s,u=e-o,c=n-s,f=r-o,h=i-s,p=a-o,d=l*l+u*u,g=c*c+f*f,x=h*h+p*p;return l*(f*x-g*p)-u*(c*x-g*h)+d*(c*p-f*h)<0}function zi(t,e,n,r,i,a){let s=n-t,o=r-e,l=i-t,u=a-e,c=s*s+o*o,f=l*l+u*u,h=.5/(s*u-o*l),p=(u*c-o*f)*h,d=(s*f-l*c)*h;return p*p+d*d}function Bi(t,e,n,r,i,a){let s=n-t,o=r-e,l=i-t,u=a-e,c=s*s+o*o,f=l*l+u*u,h=.5/(s*u-o*l),p=t+(u*c-o*f)*h,d=e+(s*f-l*c)*h;return{x:p,y:d}}function dt(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let a=t[i],s=e[a],o=i-1;for(;o>=n&&e[t[o]]>s;)t[o+1]=t[o--];t[o+1]=a}else{let i=n+r>>1,a=n+1,s=r;jt(t,i,a),e[t[n]]>e[t[r]]&&jt(t,n,r),e[t[a]]>e[t[r]]&&jt(t,a,r),e[t[n]]>e[t[a]]&&jt(t,n,a);let o=t[a],l=e[o];for(;;){do a++;while(e[t[a]]<l);do s--;while(e[t[s]]>l);if(s<a)break;jt(t,a,s)}t[n+1]=t[s],t[s]=o,r-a+1>=s-n?(dt(t,e,a,r),dt(t,e,n,s-1)):(dt(t,e,n,s-1),dt(t,e,a,r))}}function jt(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function Ri(t){return t[0]}function Li(t){return t[1]}var _n=1e-6,Y=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let i=e+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>_n||Math.abs(this._y1-a)>_n)&&(this._+="L"+i+","+a),!!r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};var lt=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var Ft=class{constructor(e,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,d=0,g=r.length,x,_;p<g;p+=3,d+=2){let v=r[p]*2,b=r[p+1]*2,w=r[p+2]*2,M=e[v],A=e[v+1],k=e[b],S=e[b+1],N=e[w],y=e[w+1],j=k-M,T=S-A,I=N-M,O=y-A,z=(j*O-T*I)*2;if(Math.abs(z)<1e-9){let B=1e9,C=r[0]*2;B*=Math.sign((e[C]-M)*O-(e[C+1]-A)*I),x=(M+N)/2-B*O,_=(A+y)/2+B*I}else{let B=1/z,C=j*j+T*T,D=I*I+O*O;x=M+(O*C-T*D)*B,_=A+(j*D-I*C)*B}a[d]=x,a[d+1]=_}let s=n[n.length-1],o,l=s*4,u,c=e[2*s],f,h=e[2*s+1];i.fill(0);for(let p=0;p<n.length;++p)s=n[p],o=l,u=c,f=h,l=s*4,c=e[2*s],h=e[2*s+1],i[o+2]=i[l]=f-h,i[o+3]=i[l+1]=c-u}render(e){let n=e==null?e=new Y:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let c=0,f=r.length;c<f;++c){let h=r[c];if(h<c)continue;let p=Math.floor(c/3)*2,d=Math.floor(h/3)*2,g=s[p],x=s[p+1],_=s[d],v=s[d+1];this._renderSegment(g,x,_,v,e)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];let f=Math.floor(i[u]/3)*2,h=s[f],p=s[f+1],d=l*4,g=this._project(h,p,o[d+2],o[d+3]);g&&this._renderSegment(h,p,g[0],g[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new Y:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new Y:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){let n=new lt;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,a){let s,o=this._regioncode(e,n),l=this._regioncode(r,i);o===0&&l===0?(a.moveTo(e,n),a.lineTo(r,i)):(s=this._clipSegment(e,n,r,i,o,l))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let i=this._clip(r);if(i)t:for(let a=0,s=n.length;a<s;a+=2)for(let o=0,l=i.length;o<l;o+=2)if(n[a]==i[o]&&n[a+1]==i[o+1]&&n[(a+2)%s]==i[(o+l-2)%l]&&n[(a+3)%s]==i[(o+l-1)%l]){yield r;break t}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,s=r[e];if(s===-1)return null;let o=[],l=s;do{let u=Math.floor(l/3);if(o.push(n[u*2],n[u*2+1]),l=l%3==2?l-2:l+1,a[l]!==e)break;l=i[l]}while(l!==s&&l!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,i=e*4;return r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n)}_clipFinite(e,n){let r=n.length,i=null,a,s,o=n[r-2],l=n[r-1],u,c=this._regioncode(o,l),f,h=0;for(let p=0;p<r;p+=2)if(a=o,s=l,o=n[p],l=n[p+1],u=c,c=this._regioncode(o,l),u===0&&c===0)f=h,h=0,i?i.push(o,l):i=[o,l];else{let d,g,x,_,v;if(u===0){if((d=this._clipSegment(a,s,o,l,u,c))===null)continue;[g,x,_,v]=d}else{if((d=this._clipSegment(o,l,a,s,c,u))===null)continue;[_,v,g,x]=d,f=h,h=this._edgecode(g,x),f&&h&&this._edge(e,f,h,i,i.length),i?i.push(g,x):i=[g,x]}f=h,h=this._edgecode(_,v),f&&h&&this._edge(e,f,h,i,i.length),i?i.push(_,v):i=[_,v]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(e,f,h,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,a,s){for(;;){if(a===0&&s===0)return[e,n,r,i];if(a&s)return null;let o,l,u=a||s;u&8?(o=e+(r-e)*(this.ymax-n)/(i-n),l=this.ymax):u&4?(o=e+(r-e)*(this.ymin-n)/(i-n),l=this.ymin):u&2?(l=n+(i-n)*(this.xmax-e)/(r-e),o=this.xmax):(l=n+(i-n)*(this.xmin-e)/(r-e),o=this.xmin),a?(e=o,n=l,a=this._regioncode(e,n)):(r=o,i=l,s=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,a,s){let o=Array.from(n),l;if((l=this._project(o[0],o[1],r,i))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(l[0],l[1]),o=this._clipFinite(e,o))for(let u=0,c=o.length,f,h=this._edgecode(o[c-2],o[c-1]);u<c;u+=2)f=h,h=this._edgecode(o[u],o[u+1]),f&&h&&(u=this._edge(e,f,h,o,u),c=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,n,r,i,a){for(;n!==r;){let s,o;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,o=this.ymin;break}(i[a]!==s||i[a+1]!==o)&&this.contains(e,s,o)&&(i.splice(a,0,s,o),a+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){let o=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[o]&&i[o]===i[l]||i[s+1]===i[o+1]&&i[o+1]===i[l+1])&&(i.splice(o,2),s-=2)}return a}_project(e,n,r,i){let a=Infinity,s,o,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<a&&(l=this.ymin,o=e+(a=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<a&&(l=this.ymax,o=e+(a=s)*r)}if(r>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/r)<a&&(o=this.xmax,l=n+(a=s)*i)}else if(r<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/r)<a&&(o=this.xmin,l=n+(a=s)*i)}return[o,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};var Fi=2*Math.PI,mt=Math.pow;function Vi(t){return t[0]}function Hi(t){return t[1]}function Yi(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let i=2*e[r],a=2*e[r+1],s=2*e[r+2];if((n[s]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function $i(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var ut=class{static from(e,n=Vi,r=Hi,i){return new ut("length"in e?Gi(e,n,r,i):Float64Array.from(Qi(e,n,r,i)))}constructor(e){this._delaunator=new at(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&Yi(e)){this.collinear=Int32Array.from({length:n.length/2},(h,p)=>p).sort((h,p)=>n[2*h]-n[2*p]||n[2*h+1]-n[2*p+1]);let l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,p=n.length/2;h<p;++h){let d=$i(n[2*h],n[2*h+1],f);n[2*h]=d[0],n[2*h+1]=d[1]}this._delaunator=new at(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){let c=a[l%3==2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)o[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new Ft(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:s,collinear:o}=this;if(o){let f=o.indexOf(e);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}let l=n[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3==2?u-2:u+1,s[u]!==e)return;if(u=a[u],u===-1){let f=r[(i[e]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let i=r,a;for(;(a=this._step(r,e,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(e,n,r){let{inedges:i,hull:a,_hullIndex:s,halfedges:o,triangles:l,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,f=mt(n-u[e*2],2)+mt(r-u[e*2+1],2),h=i[e],p=h;do{let d=l[p],g=mt(n-u[d*2],2)+mt(r-u[d*2+1],2);if(g<f&&(f=g,c=d),p=p%3==2?p-2:p+1,l[p]!==e)break;if(p=o[p],p===-1){if(p=a[(s[e]+1)%a.length],p!==d&&mt(n-u[p*2],2)+mt(r-u[p*2+1],2)<f)return p;break}}while(p!==h);return c}render(e){let n=e==null?e=new Y:void 0,{points:r,halfedges:i,triangles:a}=this;for(let s=0,o=i.length;s<o;++s){let l=i[s];if(l<s)continue;let u=a[s]*2,c=a[l]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new Y:void 0,{points:i}=this;for(let a=0,s=i.length;a<s;a+=2){let o=i[a],l=i[a+1];e.moveTo(o+n,l),e.arc(o,l,n,0,Fi)}return r&&r.value()}renderHull(e){let n=e==null?e=new Y:void 0,{hull:r,points:i}=this,a=r[0]*2,s=r.length;e.moveTo(i[a],i[a+1]);for(let o=1;o<s;++o){let l=2*r[o];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new lt;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new Y:void 0,{points:i,triangles:a}=this,s=a[e*=3]*2,o=a[e+1]*2,l=a[e+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[o],i[o+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new lt;return this.renderTriangle(e,n),n.value()}};function Gi(t,e,n,r){let i=t.length,a=new Float64Array(i*2);for(let s=0;s<i;++s){let o=t[s];a[s*2]=e.call(r,o,s,t),a[s*2+1]=n.call(r,o,s,t)}return a}function*Qi(t,e,n,r){let i=0;for(let a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}var Ki={value:()=>{}};function yn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vt(n)}function Vt(t){this._=t}function Ui(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vt.prototype=yn.prototype={constructor:Vt,on:function(t,e){var n=this._,r=Ui(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=Zi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=bn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=bn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Vt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Zi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function bn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ki,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Te=yn;var Ht="http://www.w3.org/1999/xhtml",Ie={svg:"http://www.w3.org/2000/svg",xhtml:Ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ie.hasOwnProperty(e)?{space:Ie[e],local:t}:t}function Wi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ht&&e.documentElement.namespaceURI===Ht?e.createElement(t):e.createElementNS(n,t)}}function Ji(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yt(t){var e=U(t);return(e.local?Ji:Wi)(e)}function to(){}function ct(t){return t==null?to:function(){return this.querySelector(t)}}function wn(t){typeof t!="function"&&(t=ct(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=a[c])&&(u=t.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new q(r,this._parents)}function ke(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function eo(){return[]}function At(t){return t==null?eo:function(){return this.querySelectorAll(t)}}function no(t){return function(){return ke(t.apply(this,arguments))}}function vn(t){typeof t=="function"?t=no(t):t=At(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new q(r,i)}function Mt(t){return function(){return this.matches(t)}}function $t(t){return function(e){return e.matches(t)}}var ro=Array.prototype.find;function io(t){return function(){return ro.call(this.children,t)}}function oo(){return this.firstElementChild}function jn(t){return this.select(t==null?oo:io(typeof t=="function"?t:$t(t)))}var so=Array.prototype.filter;function ao(){return Array.from(this.children)}function lo(t){return function(){return so.call(this.children,t)}}function An(t){return this.selectAll(t==null?ao:lo(typeof t=="function"?t:$t(t)))}function Mn(t){typeof t!="function"&&(t=Mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new q(r,this._parents)}function Gt(t){return new Array(t.length)}function Tn(){return new q(this._enter||this._groups.map(Gt),this._parents)}function Tt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function In(t){return function(){return t}}function uo(t,e,n,r,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Tt(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function co(t,e,n,r,i,a,s){var o,l,u=new Map,c=e.length,f=a.length,h=new Array(c),p;for(o=0;o<c;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<f;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(r[o]=l,l.__data__=a[o],u.delete(p)):n[o]=new Tt(t,a[o]);for(o=0;o<c;++o)(l=e[o])&&u.get(h[o])===l&&(i[o]=l)}function fo(t){return t.__data__}function kn(t,e){if(!arguments.length)return Array.from(this,fo);var n=e?co:uo,r=this._parents,i=this._groups;typeof t!="function"&&(t=In(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],h=f.length,p=ho(t.call(c,c&&c.__data__,u,r)),d=p.length,g=o[u]=new Array(d),x=s[u]=new Array(d),_=l[u]=new Array(h);n(c,f,g,x,_,p,e);for(var v=0,b=0,w,M;v<d;++v)if(w=g[v]){for(v>=b&&(b=v+1);!(M=x[b])&&++b<d;);w._next=M||null}}return s=new q(s,r),s._enter=o,s._exit=l,s}function ho(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sn(){return new q(this._exit||this._groups.map(Gt),this._parents)}function Cn(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function En(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=o[l]=new Array(f),p,d=0;d<f;++d)(p=u[d]||c[d])&&(h[d]=p);for(;l<i;++l)o[l]=n[l];return new q(o,this._parents)}function Nn(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function On(t){t||(t=po);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,c=0;c<o;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new q(i,this._parents).order()}function po(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dn(){return Array.from(this)}function qn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function Xn(){let t=0;for(let e of this)++t;return t}function zn(){return!this.node()}function Bn(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function mo(t){return function(){this.removeAttribute(t)}}function go(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xo(t,e){return function(){this.setAttribute(t,e)}}function _o(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Rn(t,e){var n=U(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?go:mo:typeof e=="function"?n.local?bo:yo:n.local?_o:xo)(n,e))}function Qt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wo(t){return function(){this.style.removeProperty(t)}}function vo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ln(t,e,n){return arguments.length>1?this.each((e==null?wo:typeof e=="function"?jo:vo)(t,e,n??"")):J(this.node(),t)}function J(t,e){return t.style.getPropertyValue(e)||Qt(t).getComputedStyle(t,null).getPropertyValue(e)}function Ao(t){return function(){delete this[t]}}function Mo(t,e){return function(){this[t]=e}}function To(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fn(t,e){return arguments.length>1?this.each((e==null?Ao:typeof e=="function"?To:Mo)(t,e)):this.node()[t]}function Vn(t){return t.trim().split(/^|\s+/)}function Se(t){return t.classList||new Hn(t)}function Hn(t){this._node=t,this._names=Vn(t.getAttribute("class")||"")}Hn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yn(t,e){for(var n=Se(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function $n(t,e){for(var n=Se(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Io(t){return function(){Yn(this,t)}}function ko(t){return function(){$n(this,t)}}function So(t,e){return function(){(e.apply(this,arguments)?Yn:$n)(this,t)}}function Gn(t,e){var n=Vn(t+"");if(arguments.length<2){for(var r=Se(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?So:e?Io:ko)(n,e))}function Co(){this.textContent=""}function Eo(t){return function(){this.textContent=t}}function No(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Qn(t){return arguments.length?this.each(t==null?Co:(typeof t=="function"?No:Eo)(t)):this.node().textContent}function Oo(){this.innerHTML=""}function Po(t){return function(){this.innerHTML=t}}function Do(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Kn(t){return arguments.length?this.each(t==null?Oo:(typeof t=="function"?Do:Po)(t)):this.node().innerHTML}function qo(){this.nextSibling&&this.parentNode.appendChild(this)}function Un(){return this.each(qo)}function Xo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zn(){return this.each(Xo)}function Wn(t){var e=typeof t=="function"?t:Yt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function zo(){return null}function Jn(t,e){var n=typeof t=="function"?t:Yt(t),r=e==null?zo:typeof e=="function"?e:ct(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bo(){var t=this.parentNode;t&&t.removeChild(this)}function tr(){return this.each(Bo)}function Ro(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function er(t){return this.select(t?Lo:Ro)}function nr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fo(t){return function(e){t.call(this,e,this.__data__)}}function Vo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ho(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Yo(t,e,n){return function(){var r=this.__on,i,a=Fo(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function rr(t,e,n){var r=Vo(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(o=e?Yo:Ho,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function ir(t,e,n){var r=Qt(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $o(t,e){return function(){return ir(this,t,e)}}function Go(t,e){return function(){return ir(this,t,e.apply(this,arguments))}}function or(t,e){return this.each((typeof e=="function"?Go:$o)(t,e))}function*sr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var Qo=[null];function q(t,e){this._groups=t,this._parents=e}function ar(){return new q([[document.documentElement]],Qo)}function Ko(){return this}q.prototype=ar.prototype={constructor:q,select:wn,selectAll:vn,selectChild:jn,selectChildren:An,filter:Mn,data:kn,enter:Tn,exit:Sn,join:Cn,merge:En,selection:Ko,order:Nn,sort:On,call:Pn,nodes:Dn,node:qn,size:Xn,empty:zn,each:Bn,attr:Rn,style:Ln,property:Fn,classed:Gn,text:Qn,html:Kn,raise:Un,lower:Zn,append:Wn,insert:Jn,remove:tr,clone:er,datum:nr,on:rr,dispatch:or,[Symbol.iterator]:sr};var Z=ar;function Kt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ce(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function It(){}var kt=.7,Ut=1/kt,gt="\\s*([+-]?\\d+)\\s*",St="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Q="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uo=/^#([0-9a-f]{3,8})$/,Zo=new RegExp("^rgb\\("+[gt,gt,gt]+"\\)$"),Wo=new RegExp("^rgb\\("+[Q,Q,Q]+"\\)$"),Jo=new RegExp("^rgba\\("+[gt,gt,gt,St]+"\\)$"),ts=new RegExp("^rgba\\("+[Q,Q,Q,St]+"\\)$"),es=new RegExp("^hsl\\("+[St,Q,Q]+"\\)$"),ns=new RegExp("^hsla\\("+[St,Q,Q,St]+"\\)$"),lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kt(It,tt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ur,formatHex:ur,formatHsl:rs,formatRgb:cr,toString:cr});function ur(){return this.rgb().formatHex()}function rs(){return mr(this).formatHsl()}function cr(){return this.rgb().formatRgb()}function tt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fr(e):n===3?new V(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zo.exec(t))?new V(e[1],e[2],e[3],1):(e=Wo.exec(t))?new V(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jo.exec(t))?Zt(e[1],e[2],e[3],e[4]):(e=ts.exec(t))?Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=es.exec(t))?dr(e[1],e[2]/100,e[3]/100,1):(e=ns.exec(t))?dr(e[1],e[2]/100,e[3]/100,e[4]):lr.hasOwnProperty(t)?fr(lr[t]):t==="transparent"?new V(NaN,NaN,NaN,0):null}function fr(t){return new V(t>>16&255,t>>8&255,t&255,1)}function Zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new V(t,e,n,r)}function is(t){return t instanceof It||(t=tt(t)),t?(t=t.rgb(),new V(t.r,t.g,t.b,t.opacity)):new V}function xt(t,e,n,r){return arguments.length===1?is(t):new V(t,e,n,r??1)}function V(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Kt(V,xt,Ce(It,{brighter:function(t){return t=t==null?Ut:Math.pow(Ut,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?kt:Math.pow(kt,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hr,formatHex:hr,formatRgb:pr,toString:pr}));function hr(){return"#"+Ee(this.r)+Ee(this.g)+Ee(this.b)}function pr(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ee(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function dr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new K(t,e,n,r)}function mr(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=tt(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new K(s,o,l,t.opacity)}function gr(t,e,n,r){return arguments.length===1?mr(t):new K(t,e,n,r??1)}function K(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Kt(K,gr,Ce(It,{brighter:function(t){return t=t==null?Ut:Math.pow(Ut,t),new K(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?kt:Math.pow(kt,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new V(Ne(t>=240?t-240:t+120,i,r),Ne(t,i,r),Ne(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Ne(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Oe(t,e,n,r,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*r+s*i)/6}function xr(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],s=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return Oe((n-r/e)*e,s,i,a,o)}}function _r(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],o=t[(r+2)%e];return Oe((n-r/e)*e,i,a,s,o)}}var Pe=t=>()=>t;function os(t,e){return function(n){return t+n*e}}function ss(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yr(t){return(t=+t)==1?Wt:function(e,n){return n-e?ss(e,n,t):Pe(isNaN(e)?n:e)}}function Wt(t,e){var n=e-t;return n?os(t,n):Pe(isNaN(t)?e:t)}var Jt=function t(e){var n=yr(e);function r(i,a){var s=n((i=xt(i)).r,(a=xt(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Wt(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function br(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=xt(e[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=t(r),i=t(i),a=t(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var as=br(xr),ls=br(_r);function H(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var De=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qe=new RegExp(De.source,"g");function us(t){return function(){return t}}function cs(t){return function(e){return t(e)+""}}function Xe(t,e){var n=De.lastIndex=qe.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=De.exec(t))&&(i=qe.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:H(r,i)})),n=qe.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?cs(l[0].x):us(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}var wr=180/Math.PI,te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ze(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*wr,skewX:Math.atan(l)*wr,scaleX:s,scaleY:o}}var ee;function vr(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?te:ze(e.a,e.b,e.c,e.d,e.e,e.f)}function jr(t){return t==null?te:(ee||(ee=document.createElementNS("http://www.w3.org/2000/svg","g")),ee.setAttribute("transform",t),(t=ee.transform.baseVal.consolidate())?(t=t.matrix,ze(t.a,t.b,t.c,t.d,t.e,t.f)):te)}function Ar(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,h,p,d){if(u!==f||c!==h){var g=p.push("translate(",null,e,null,n);d.push({i:g-4,x:H(u,f)},{i:g-2,x:H(c,h)})}else(f||h)&&p.push("translate("+f+e+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:H(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:H(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,d){if(u!==f||c!==h){var g=p.push(i(p)+"scale(",null,",",null,")");d.push({i:g-4,x:H(u,f)},{i:g-2,x:H(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),o(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var d=-1,g=h.length,x;++d<g;)f[(x=h[d]).i]=x.x(p);return f.join("")}}}var Be=Ar(vr,"px, ","px)","deg)"),Re=Ar(jr,", ",")",")");var _t=0,Ct=0,Et=0,Mr=1e3,ne,Nt,re=0,ft=0,ie=0,Ot=typeof performance=="object"&&performance.now?performance:Date,Tr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pt(){return ft||(Tr(fs),ft=Ot.now()+ie)}function fs(){ft=0}function Dt(){this._call=this._time=this._next=null}Dt.prototype=oe.prototype={constructor:Dt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Pt():+n)+(e==null?0:+e),!this._next&&Nt!==this&&(Nt?Nt._next=this:ne=this,Nt=this),this._call=t,this._time=n,Le()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Le())}};function oe(t,e,n){var r=new Dt;return r.restart(t,e,n),r}function Ir(){Pt(),++_t;for(var t=ne,e;t;)(e=ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_t}function kr(){ft=(re=Ot.now())+ie,_t=Ct=0;try{Ir()}finally{_t=0,ps(),ft=0}}function hs(){var t=Ot.now(),e=t-re;e>Mr&&(ie-=e,re=t)}function ps(){for(var t,e=ne,n,r=Infinity;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ne=n);Nt=t,Le(r)}function Le(t){if(!_t){Ct&&(Ct=clearTimeout(Ct));var e=t-ft;e>24?(t<Infinity&&(Ct=setTimeout(kr,t-Ot.now()-ie)),Et&&(Et=clearInterval(Et))):(Et||(re=Ot.now(),Et=setInterval(hs,Mr)),_t=1,Tr(kr))}}function se(t,e,n){var r=new Dt;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ds=Te("start","end","cancel","interrupt"),ms=[],Sr=0,Cr=1,ae=2,le=3,Er=4,ue=5,qt=6;function et(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;gs(t,n,{name:e,index:r,group:i,on:ds,tween:ms,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Sr})}function Xt(t,e){var n=X(t,e);if(n.state>Sr)throw new Error("too late; already scheduled");return n}function R(t,e){var n=X(t,e);if(n.state>le)throw new Error("too late; already running");return n}function X(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=oe(a,0,n.time);function a(u){n.state=Cr,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==Cr)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===le)return se(s);p.state===Er?(p.state=qt,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=qt,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(se(function(){n.state===le&&(n.state=Er,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=ae,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ae){for(n.state=le,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ue,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===ue&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=qt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function ce(t,e){var n=t.__transition,r,i,a=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>ae&&r.state<ue,r.state=qt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function Nr(t){return this.each(function(){ce(this,t)})}function xs(t,e){var n,r;return function(){var i=R(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function _s(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=R(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function Or(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=X(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?xs:_s)(n,t,e))}function yt(t,e,n){var r=t._id;return t.each(function(){var i=R(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return X(i,r).value[e]}}function fe(t,e){var n;return(typeof e=="number"?H:e instanceof tt?Jt:(n=tt(e))?(e=n,Jt):Xe)(t,e)}function ys(t){return function(){this.removeAttribute(t)}}function bs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ws(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function vs(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function js(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function As(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function Pr(t,e){var n=U(t),r=n==="transform"?Re:fe;return this.attrTween(t,typeof e=="function"?(n.local?As:js)(n,r,yt(this,"attr."+t,e)):e==null?(n.local?bs:ys)(n):(n.local?vs:ws)(n,r,e))}function Ms(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ts(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Is(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ts(t,a)),n}return i._value=e,i}function ks(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ms(t,a)),n}return i._value=e,i}function Dr(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=U(t);return this.tween(n,(r.local?Is:ks)(r,e))}function Ss(t,e){return function(){Xt(this,t).delay=+e.apply(this,arguments)}}function Cs(t,e){return e=+e,function(){Xt(this,t).delay=e}}function qr(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ss:Cs)(e,t)):X(this.node(),e).delay}function Es(t,e){return function(){R(this,t).duration=+e.apply(this,arguments)}}function Ns(t,e){return e=+e,function(){R(this,t).duration=e}}function Xr(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Es:Ns)(e,t)):X(this.node(),e).duration}function Os(t,e){if(typeof e!="function")throw new Error;return function(){R(this,t).ease=e}}function zr(t){var e=this._id;return arguments.length?this.each(Os(e,t)):X(this.node(),e).ease}function Ps(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;R(this,t).ease=n}}function Br(t){if(typeof t!="function")throw new Error;return this.each(Ps(this._id,t))}function Rr(t){typeof t!="function"&&(t=Mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new F(r,this._parents,this._name,this._id)}function Lr(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],u=n[o],c=l.length,f=s[o]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;o<r;++o)s[o]=e[o];return new F(s,this._parents,this._name,this._id)}function Ds(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qs(t,e,n){var r,i,a=Ds(e)?Xt:R;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function Fr(t,e){var n=this._id;return arguments.length<2?X(this.node(),n).on.on(t):this.each(qs(n,t,e))}function Xs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vr(){return this.on("end.remove",Xs(this._id))}function Hr(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ct(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),c,f,h=0;h<l;++h)(c=o[h])&&(f=t.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,et(u[h],e,n,h,u,X(c,n)));return new F(a,this._parents,e,n)}function Yr(t){var e=this._name,n=this._id;typeof t!="function"&&(t=At(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),p,d=X(c,n),g=0,x=h.length;g<x;++g)(p=h[g])&&et(p,e,n,g,h,d);a.push(h),s.push(c)}return new F(a,s,e,n)}var zs=Z.prototype.constructor;function $r(){return new zs(this._groups,this._parents)}function Bs(t,e){var n,r,i;return function(){var a=J(this,t),s=(this.style.removeProperty(t),J(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function Gr(t){return function(){this.style.removeProperty(t)}}function Rs(t,e,n){var r,i=n+"",a;return function(){var s=J(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function Ls(t,e,n){var r,i,a;return function(){var s=J(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),J(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function Fs(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=R(this,t),u=l.on,c=l.value[a]==null?o||(o=Gr(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function Qr(t,e,n){var r=(t+="")==="transform"?Be:fe;return e==null?this.styleTween(t,Bs(t,r)).on("end.style."+t,Gr(t)):typeof e=="function"?this.styleTween(t,Ls(t,r,yt(this,"style."+t,e))).each(Fs(this._id,t)):this.styleTween(t,Rs(t,r,e),n).on("end.style."+t,null)}function Vs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Hs(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Vs(t,s,n)),r}return a._value=e,a}function Kr(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Hs(t,e,n??""))}function Ys(t){return function(){this.textContent=t}}function $s(t){return function(){var e=t(this);this.textContent=e??""}}function Ur(t){return this.tween("text",typeof t=="function"?$s(yt(this,"text",t)):Ys(t==null?"":t+""))}function Gs(t){return function(e){this.textContent=t.call(this,e)}}function Qs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Gs(i)),e}return r._value=t,r}function Zr(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Qs(t))}function Wr(){for(var t=this._name,e=this._id,n=he(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var c=X(l,e);et(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new F(r,this._parents,t,n)}function Jr(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i==0&&a()}};n.each(function(){var u=R(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var Ks=0;function F(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ti(t){return Z().transition(t)}function he(){return++Ks}var W=Z.prototype;F.prototype=ti.prototype={constructor:F,select:Hr,selectAll:Yr,selectChild:W.selectChild,selectChildren:W.selectChildren,filter:Rr,merge:Lr,selection:$r,transition:Wr,call:W.call,nodes:W.nodes,node:W.node,size:W.size,empty:W.empty,each:W.each,on:Fr,attr:Pr,attrTween:Dr,style:Qr,styleTween:Kr,text:Ur,textTween:Zr,remove:Vr,tween:Or,delay:qr,duration:Xr,ease:zr,easeVarying:Br,end:Jr,[Symbol.iterator]:W[Symbol.iterator]};function pe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Us={time:null,delay:0,duration:250,ease:pe};function Zs(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ei(t){var e,n;t instanceof F?(e=t._id,t=t._name):(e=he(),(n=Us).time=Pt(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&et(l,t,e,u,s,n||Zs(l,e));return new F(r,this._parents,t,e)}Z.prototype.interrupt=Nr;Z.prototype.transition=ei;function ni(t){return[+t[0],+t[1]]}function Ws(t){return[ni(t[0]),ni(t[1])]}var Yp={name:"x",handles:["w","e"].map(Fe),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$p={name:"y",handles:["n","s"].map(Fe),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Gp={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Fe),input:function(t){return t==null?null:Ws(t)},output:function(t){return t}};function Fe(t){return{type:t}}function bt(t){for(var e=-1,n=t.length,r=0,i=0,a,s=t[n-1],o,l=0;++e<n;)a=s,s=t[e],l+=o=a[0]*s[1]-s[0]*a[1],r+=(a[0]+s[0])*o,i+=(a[1]+s[1])*o;return l*=3,[r/l,i/l]}function nt(t,e,n){this.k=t,this.x=e,this.y=n}nt.prototype={constructor:nt,scale:function(t){return t===1?this:new nt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new nt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ve=new nt(1,0,0);He.prototype=nt.prototype;function He(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ve;return t.__zoom}var Js={width:1024,height:1024,points:[],relaxIterations:8};function ta(t){t=Object.assign({},Js,t),t.points=t.points.map(i=>[i.x,i.y]);let e=ut.from(t.points),n=e.voronoi([0,0,t.width,t.height]);for(let i=0;i<t.relaxIterations;i++){for(let a=0;a<e.points.length;a+=2){let s=n.cellPolygon(a>>1);if(s===null)continue;let o=e.points[a],l=e.points[a+1],[u,c]=bt(s);e.points[a]=o+(u-o)*1,e.points[a+1]=l+(c-l)*1}n.update()}let r=[];for(let i=0;i<e.points.length;i+=2){let a=n.cellPolygon(i>>1);a!==null&&r.push({...ri(a),neighbors:[...n.neighbors(i)].map(s=>({...ri(n.cellPolygon(s))}))})}return{cells:r.map((i,a)=>{let s=[...n.neighbors(a)];return i.neighbors=s.map(o=>r[o]),i})}}function ri(t){return{points:t,innerCircleRadius:ea(t),centroid:{x:bt(t)[0],y:bt(t)[1]}}}function ea(t){let e=bt(t),n=na(e,t),r=Rt(e,n[0],n[1]);for(let i=1;i<t.length-1;i++)if(t[i+1]){let a=Rt(e,n[i],n[i+1]);a<r&&(r=a)}return r}function na(t,e){let n=t,r=e.slice(0),i=(a,s)=>Math.atan2(a[1]-n[1],a[0]-n[0])*180/Math.PI-Math.atan2(s[1]-n[1],s[0]-n[0])*180/Math.PI;return r.sort(i),r}export{Mi as createCoordsTransformer,Si as createQtGrid,ta as createVoronoiDiagram,Rt as distToSegment,ji as map,Ai as pointsInPath,ot as random,yi as randomBias,bi as randomSnap,_i as seedPRNG,vi as spline};
/**
 * quadtree-js
 * @version 1.2.4
 * @license MIT
 * @author Timo Hausmann
 */
